## Java基础

### 面向对象

#### 1. 三大特性

**封装**：封装是指将对象的属性（数据）和行为（方法）结合在一起，对外隐藏对象的内部细节，仅通过对象提供的接口与外界交互。封装的目的是增强安全性和简化编程，使得对象更加独立。

**继承**：继承是一种可以使得子类自动共享父类数据结构和方法的机制。它是代码复用的重要手段，通过继承可以建立类与类之间的层次关系，使得结构更加清晰。

**多态**：多态是指允许不同类的对象对同一消息作出响应。即同一个接口，使用不同的实例而执行不同操作。多态性可以分为编译时多态（重载）和运行时多态（重写）。它使得程序具有良好的灵活性和扩展性。

#### 2. 多态体现在哪些方面？

- 方法重载：多个同名方法，但是不同的参数列表(参数类型、数量、顺序不同)，编译器在编译时选择调用的方法。

- 方法重写：子类提供父类中同名方法的实现。运行时JVM会跟据对象的实际类型确定调用哪个版本的实现方法。

- 接口与实现：多个类可以实现统一个接口，并且用接口类型的引用调用这些类的方法。

- 向上转型和向下转型：

  - 在Java中，可以使用父类类型的引用指向子类对象，这就是向上转型。通过这种方式，可以在运行时期采用不同的子类实现。
  - 向下转型是将父类的引用转回其子类类型，但在执行前需要确认引用实际指向的对象类型以避免 ClassCastException。

  ~~~java
  class Animal {
      public void makeSound() {
          System.out.println("Some generic animal sound");
      }
  }
  
  class Dog extends Animal {
      @Override
      public void makeSound() {
          System.out.println("Woof!");
      }
      
      public void fetch() {
          System.out.println("Dog is fetching");
      }
  }
  
  class Cat extends Animal {
      @Override
      public void makeSound() {
          System.out.println("Meow!");
      }
      
      public void scratch() {
          System.out.println("Cat is scratching");
      }
  }
  
  public class Main {
      public static void main(String[] args) {
          // 向上转型
          Animal animal1 = new Dog();  // Dog 向上转型为 Animal
          Animal animal2 = new Cat();  // Cat 向上转型为 Animal
          
          animal1.makeSound();  // 输出: Woof!
          animal2.makeSound();  // 输出: Meow!
          
          // 向下转型
          if (animal1 instanceof Dog) {
              Dog dog = (Dog) animal1;  // 安全的向下转型
              dog.fetch();  // 输出: Dog is fetching
          }
          
          if (animal2 instanceof Cat) {
              Cat cat = (Cat) animal2;  // 安全的向下转型
              cat.scratch();  // 输出: Cat is scratching
          }
          
          // 不安全的向下转型示例
          try {
              Dog wrongDog = (Dog) animal2;  // 这会抛出 ClassCastException
              wrongDog.fetch();
          } catch (ClassCastException e) {
              System.out.println("Cannot cast Cat to Dog");
          }
      }
  }
  ~~~

#### 3. 重载和重写的区别？

**重载**：是在同一个类中，有多个同名方法，但它们具有不同的参数列表

**重写**：是子类重新定义父类中的方法，**方法名、参数列表和返回类型必须与父类中的方法一致**，通过@override注解来明确表示这是对父类方法的重写。

**重载是指在同一个类中定义多个同名方法，而重写是指子类重新定义父类中的方法。**

#### 4. 多态解决了什么问题？

